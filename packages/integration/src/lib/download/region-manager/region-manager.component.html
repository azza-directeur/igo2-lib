<table mat-table [dataSource]="regions | async">
    <!-- Edit Button Column -->
    <ng-container matColumnDef="edit">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell *matCellDef="let region">
            <button mat-icon-button color="primary"  *ngIf="region.status !== 'Expired'" (click)="editRegion(region)">
                <mat-icon>{{'igo.integration.download.regionManager.columns.buttons.edit' | translate}}</mat-icon>
            </button>

            <button mat-icon-button color="primary"  *ngIf="region.status === 'Expired'" (click)="editRegion(region)">
                <mat-icon>{{'igo.integration.download.regionManager.columns.buttons.update' | translate}}</mat-icon>
            </button>
        </mat-cell>
    </ng-container>
    
    <!-- Delete Button Column -->
    <ng-container matColumnDef="delete">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell *matCellDef="let region">
            <button mat-icon-button color="primary" [disabled]="disableDeleteButton(region)" (click)="deleteRegion(region)">
                <mat-icon>{{'igo.integration.download.regionManager.columns.buttons.delete' | translate}}</mat-icon>
            </button>
        </mat-cell>
    </ng-container>
    
    <!-- Name Column -->
    <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> {{'igo.integration.download.regionManager.columns.name' | translate}} </mat-header-cell>
        <mat-cell *matCellDef="let region"> {{region.name}} </mat-cell>
    </ng-container>

    <!-- nTiles Column -->
    <ng-container matColumnDef="nTiles">
        <mat-header-cell mat-header-cell *matHeaderCellDef> {{'igo.integration.download.regionManager.columns.numberOfTiles' | translate}} </mat-header-cell>
        <mat-cell *matCellDef="let region"> {{region.numberOfTiles}} </mat-cell>
    </ng-container>

    <!-- Storage Space Column -->
    <ng-container matColumnDef="space">
        <mat-header-cell mat-header-cell *matHeaderCellDef> {{'igo.integration.download.regionManager.columns.size' | translate}} </mat-header-cell>
        <mat-cell *matCellDef="let region"> {{getRegionSpaceInMB(region)}} </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row 
        *matRowDef="let row; columns: displayedColumns;" 
        (click)="rowClick(row)" 
        matRipple
        [ngClass]="{
            'highlight': selectedRowID === row.id,
            'expired': row.status === 'Expired'
        }"></mat-row>
</table>
